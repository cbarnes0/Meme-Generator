<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Today's Advice and Image</title>
  </head>

  <body
    style="
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    "
  >
    <div id="card-wrapper">
      <div id="card">
        <h3>
          Today's Advice and Image
        </h3>
        <img
          id="image"
        />
        <p id="advice"></p>
        <button
          id="get-advice-btn"
        >
          Get New Advice and Image
        </button>
      </div>
    </div>

    <div style="margin-left: 200px">
      <input type="text" id="searchTerm" />
      <button id="searchButton">Search</button>
    </div>
    <div id="results"></div>

    <div id="myDiv">
      <!-- Add your content here -->
    </div>

    <script>
      const getAdvice = () => {
        Promise.all([
          fetch("https://api.adviceslip.com/advice")
            .then((response) => response.json())
            .then((data) => data.slip.advice),
          fetch("https://dog.ceo/api/breeds/image/random")
            .then((response) => response.json())
            .then((data) => data.message),
        ])
          .then(([advice, imageUrl]) => {
            document.querySelector("#advice").innerText = advice;
            document.querySelector("#image").src = imageUrl;
          })
          .catch((error) => console.error(error));
      };

      document
        .querySelector("#get-advice-btn")
        .addEventListener("click", getAdvice);

      // Get the first advice and image when the page loads
      getAdvice();

      const searchTerm = document.getElementById("searchTerm");
      const searchButton = document.getElementById("searchButton");
      const results = document.getElementById("results");

      searchButton.addEventListener("click", () => {
        const term = searchTerm.value;
        fetch(
          `https://api.giphy.com/v1/gifs/search?api_key=ywOc9NKP2GncHv52bzvIfE4L0PKvh4gf&q=${term}&limit=25&offset=0&rating=G&lang=en`
        )
          .then((response) => response.json())
          .then((data) => {
            results.innerHTML = "";
            data.data.forEach((gif) => {
              const img = document.createElement("img");
              img.src = gif.images.fixed_height.url;
              results.appendChild(img);
            });
          });
      });
    </script>
  </body>
</html>
